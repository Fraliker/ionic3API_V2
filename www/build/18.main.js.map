{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAuC;AACO;AACd;AAC4B;AAe5D,IAAa,cAAc;IAA3B;IACA,CAAC;IAAD,qBAAC;AAAD,CAAC;AADY,cAAc;IAb1B,8EAAQ,CAAC;QACN,YAAY,EAAE;YACV,uDAAQ;SACX;QACD,OAAO,EAAE;YACL,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;YAClC,+EAAgB;SAEnB;QACD,OAAO,EAAE;YACL,uDAAQ;SACX;KACJ,CAAC;GACW,cAAc,CAC1B;AAD0B;;;;;;;;;;;;;;;;;;;;;AClBa;AACmE;AAQ3G,IAAa,QAAQ;IAUjB,kBAAmB,OAAsB,EACtB,SAA0B,EAC1B,WAA8B,EAC9B,SAAyB;QAHzB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAgB;QAZ5C,cAAS,GAAU,EAAE,CAAC;QAMtB,eAAU,GAAK,EAAE,CAAC;QAOd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC9D,wDAAwD;QACxD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACvC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC;IACL,CAAC;IAED,6BAAU,GAAV,UAAW,IAAI;QACX,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAClD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChC,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACzE,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACxB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,cAAc,EAAE,CAAC;QAE1B,CAAC;QAED,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACxC,CAAC;IAKD,8BAAW,GAAX;QACI,OAAO,CAAC,GAAG,CAAC,WAAW,GAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5C,OAAO,CAAC,GAAG,CAAC,OAAO,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrC,EAAE,EAAC,IAAI,CAAC,UAAU,IAAE,SAAU,CAAC,EAAC;YAC7B,IAAI,SAAS,GAAC,IAAI,CAAC,aAAa,CAAC;YACjC,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAC,GAAG,GAAC,SAAS,CAAC,CAAC;YACjD,SAAS,GAAC,SAAS,GAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAC,SAAS,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YAC1E,IAAI,CAAC,aAAa,CAAC,6BAA6B,EAAC,MAAM,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,UAAU,IAAE,SAAU,CAAC,EAAC;YACpC,IAAI,SAAS,GAAC,IAAI,CAAC,aAAa,CAAC;YAChC,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAC,GAAG,GAAC,SAAS,CAAC,CAAC;YAChD,SAAS,GAAC,SAAS,GAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC1C,0CAA0C;YACzC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAC,SAAS,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YACzE,IAAI,CAAC,aAAa,CAAC,6BAA6B,EAAC,MAAM,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,UAAU,IAAE,SAAU,CAAC,EAAC;YACpC,IAAI,SAAS,GAAC,IAAI,CAAC,aAAa,CAAC;YAChC,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAC,GAAG,GAAC,SAAS,CAAC,CAAC;YAChD,SAAS,GAAC,SAAS,GAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACzC,yCAAyC;YACzC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAC,SAAS,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YACzE,IAAI,CAAC,aAAa,CAAC,6BAA6B,EAAC,MAAM,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAC,MAAM,CAAC,CAAC;QACnD,CAAC;QACF,IAAI,CAAC,UAAU,GAAC,EAAE,CAAC;IAGvB,CAAC;IAED,2BAAQ,GAAR;QACA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAClC,CAAC;IAED,iCAAc,GAAd;QACI,IAAI,kBAAkB,GAAG,CAAC,CAAC;QAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;oBACvC,kBAAkB,GAAG,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC9G,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,kBAAkB,GAAG,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;gBAC/E,CAAC;gBACD,IAAI,CAAC,aAAa,GAAG,kBAAkB,CAAC;YAC5C,CAAC;QACL,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;IACtF,CAAC;IAGH,sBAAG,GAAH,UAAI,IAAI;QACN,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC3C,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,EAAC;wBACxC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;oBACjG,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACR,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBAC1F,CAAC;gBACL,CAAC;YACC,CAAC;YACD,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAED,yBAAM,GAAN,UAAO,IAAI;QAET,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC3C,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,EAAC;wBAC5C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;oBAC7F,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACR,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBAC1F,CAAC;gBACD,CAAC;YACH,CAAC;YACD,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IACA,gCAAa,GAAb,UAAc,OAAO,EAAE,QAAQ;QAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAEC,yBAAM,GAAN;QACK,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAChF,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QACE,IAAI,CAAE,CAAC;YACN,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC;IACG,2BAAQ,GAAR;QAEK,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACjC,CAAC;IAGP,eAAC;AAAD,CAAC;AAtKY,QAAQ;IALpB,uFAAS,EAAE;IACX,+EAAS,CAAC;QACP,QAAQ,EAAE,WAAW;OACG;KAC3B,CAAC;+EAW2C;QACX,wEAAe;QACb,wEAAiB;QACpB,KAAe;AAyJ/C;SAtKY,QAAQ,e","file":"18.main.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {CartPage} from './cart';\nimport {TranslaterModule} from '../../app/translate.module';\n\n@NgModule({\n    declarations: [\n        CartPage\n    ],\n    imports: [\n        IonicPageModule.forChild(CartPage),\n        TranslaterModule\n\n    ],\n    exports: [\n        CartPage\n    ]\n})\nexport class CartPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import {Component} from \"@angular/core\";\nimport { IonicPage,AlertController, NavController, PopoverController,ToastController} from \"ionic-angular\";\n\n\n@IonicPage()\n@Component({\n    selector: 'page-cart',\n    templateUrl: 'cart.html'\n})\nexport class CartPage {\n    cartItems: any[] = [];\n    SubTotalPrice: number;\n    totalVat: number;\n    otherTaxes: number;\n    GrandTotal: number;\n    noOfItems: number;\n    couponCode:any='';\n   \n\n    constructor(public navCtrl: NavController,\n                public alertCtrl: AlertController,\n                public popoverCtrl: PopoverController,\n                public toastCtrl:ToastController) {\n        this.cartItems = JSON.parse(localStorage.getItem('cartItem'));\n        //console.log(\"items--\"+JSON.stringify(this.cartItems));\n        if (this.cartItems != null) {\n            this.noOfItems = this.cartItems.length;\n            this.CalculatePrice();\n        }\n    }\n\n    deleteItem(data) {\n        for (let i = 0; i <= this.cartItems.length - 1; i++) {\n            if (this.cartItems[i].id == data.id) {\n                this.cartItems.splice(i, 1);\n            }\n        }\n\n        if (localStorage.getItem('cartItem') == null || this.cartItems.length == 0) {\n            this.SubTotalPrice = 0;\n            this.totalVat = 0;\n            this.otherTaxes = 0;\n            this.GrandTotal = 0;\n        }\n        else {\n            this.CalculatePrice();\n\n        }\n        \n        localStorage.setItem('cartItem', JSON.stringify(this.cartItems));\n        this.cartItems = JSON.parse(localStorage.getItem('cartItem'));\n        this.noOfItems = this.noOfItems - 1;\n    }\n\n    \n   deductedPrice:number;\n\n    applyCoupon(){\n        console.log(\"subtotal-\"+this.SubTotalPrice);\n        console.log(\"code-\"+this.couponCode);\n        if(this.couponCode=='apply20' ){\n           let subTotals=this.SubTotalPrice;\n           this.deductedPrice=Math.ceil(20/100*subTotals);\n         subTotals=subTotals-(this.deductedPrice);\n         console.log(\"subtotal--\"+subTotals);\n         this.GrandTotal = Math.ceil(subTotals + this.totalVat + this.otherTaxes); \n        this.createToaster('Coupon applied successfully','3000');\n        }\n        else if(this.couponCode=='apply25' ){\n         let subTotals=this.SubTotalPrice;\n          this.deductedPrice=Math.ceil(25/100*subTotals);\n         subTotals=subTotals-(this.deductedPrice);\n        // subTotals=subTotals-(25/100*subTotals);\n         console.log(\"subtotal--\"+subTotals);\n         this.GrandTotal = Math.ceil(subTotals + this.totalVat + this.otherTaxes); \n         this.createToaster('Coupon applied successfully','3000');\n        }\n        else if(this.couponCode=='apply30' ){\n         let subTotals=this.SubTotalPrice;\n          this.deductedPrice=Math.ceil(30/100*subTotals);\n         subTotals=subTotals-(this.deductedPrice);\n         //subTotals=subTotals-(30/100*subTotals);\n         console.log(\"subtotal--\"+subTotals);\n         this.GrandTotal = Math.ceil(subTotals + this.totalVat + this.otherTaxes); \n         this.createToaster('Coupon applied successfully','3000');\n        }\n        else {\n        this.createToaster('Coupon already applied','3000');  \n         }\n        this.couponCode='';\n       \n        \n    }\n\n    checkout() {\n    this.navCtrl.push(\"CheckoutPage\");\n    }\n\n    CalculatePrice() {\n        let proGrandTotalPrice = 0;\n        for (let i = 0; i <= this.cartItems.length; i++) {\n            if (this.cartItems[i] != null) {\n                if (this.cartItems[i].extraPrice != null) {\n                    proGrandTotalPrice = proGrandTotalPrice + this.cartItems[i].itemTotalPrice + this.cartItems[i].extraPrice;\n                } else {\n                    proGrandTotalPrice = proGrandTotalPrice + this.cartItems[i].itemTotalPrice;\n                }\n                this.SubTotalPrice = proGrandTotalPrice;\n            }\n        }\n        this.totalVat = ((5 / 100) * this.SubTotalPrice);\n        this.otherTaxes = ((3 / 100) * this.SubTotalPrice);\n        this.GrandTotal = Math.ceil(this.SubTotalPrice + this.totalVat + this.otherTaxes);\n    }\n     \n\n  add(data) {\n    if (data.Quantity < 20) {\n      data.Quantity = data.Quantity + 1;\n      for (let i = 0; i <= this.cartItems.length - 1; i++) {\n      if (this.cartItems[i].id == data.id) {\n        this.cartItems[i].Quantity = data.Quantity;\n        if(this.cartItems[i].sizeOption.offerValue){\n            this.cartItems[i].itemTotalPrice = (data.Quantity * this.cartItems[i].sizeOption.offerValue);\n        } else {\n        this.cartItems[i].itemTotalPrice = (data.Quantity * this.cartItems[i].sizeOption.value);\n      }\n  }\n    }\n    localStorage.setItem('cartItem', JSON.stringify(this.cartItems));\n    this.CalculatePrice();\n    }\n  }\n\n  remove(data) {\n\n    if (data.Quantity > 1) {\n    data.Quantity =data.Quantity - 1;\n      for (let i = 0; i <= this.cartItems.length - 1; i++) {\n      if (this.cartItems[i].id == data.id) {\n        this.cartItems[i].Quantity = data.Quantity;\n        if(this.cartItems[i].sizeOption.offerValue){\n        this.cartItems[i].itemTotalPrice = (data.Quantity * this.cartItems[i].sizeOption.offerValue);\n        } else {\n        this.cartItems[i].itemTotalPrice = (data.Quantity * this.cartItems[i].sizeOption.value);\n      }\n      }\n    }\n    localStorage.setItem('cartItem', JSON.stringify(this.cartItems));\n    this.CalculatePrice();\n    }\n  }\n   createToaster(message, duration) {\n        let toast = this.toastCtrl.create({\n            message: message,\n            duration: duration\n        });\n        toast.present();\n    }\n\n      isCart():boolean {\n           if (localStorage.getItem('cartItem') == null || this.cartItems.length == 0) {\n        return false;\n    }\n       else  {\n        return true;\n    }\n}\n    gotoHome(){\n        \n         localStorage.removeItem('cartItem');\n         this.navCtrl.push(\"HomePage\");\n      }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}